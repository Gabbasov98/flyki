let calc=document.querySelectorAll(".cartcalc");function cartCalc(){calc.forEach(e=>{let t=e.querySelector(".ccalc-minus"),c=e.querySelector(".ccalc-plus"),a=e.querySelector("input"),n=e.classList.contains("_main");t.onclick=function(){let e=a.value;if(e>1){let t=+e-1;a.value=t,n&&$(".header-cart__count span").html($(".cart .cartcalc input").val())}else a.value=e,n&&($(".cart-nav").removeClass("_added"),$(".header-cart").removeClass("_active"),$(".header-cart__count span").html(0))},c.onclick=function(e){let t=+a.value+1;a.value=t,n&&cartAnim(e)}})}function cartAnim(e){let t=document.querySelector(".cart .cart-nav"),c=document.querySelector(".header-cart");console.log(e.pageX),console.log(t.getBoundingClientRect()),$(".cart-nav").append(`<div class="animtocart">\n            <img src="${$(".order__img img").attr("src")}" alt="">\n        </div>`),$(".animtocart").css({position:"fixed","z-index":"9999999999",left:t.getBoundingClientRect().x+"px",top:t.getBoundingClientRect().y+"px"}),$(".animtocart").animate({top:"1em",left:c.getBoundingClientRect().x+"px",opacity:0},800,(function(){$(".header-cart").addClass("_active"),$(".header-cart__count span").html($(".cart .cartcalc input").val()),$(this).remove()}))}function setLabelPlace(){document.querySelectorAll(".fg input,.fg textarea,.fg-dynamic select").forEach(e=>{function t(){""!==e.value?e.classList.add("_filled"):e.classList.remove("_filled")}t(),e.onchange=()=>{t()}})}cartCalc(),$(".cart-nav__btn").click((function(e){$(".cart-nav").addClass("_added"),cartAnim(e)})),setLabelPlace();
function formatTimerItems(n){n=n.toString().split("");let s="\n    \n    ";return n.forEach(n=>{s+=`\n        <span class="countdown__item"><span>${n}</span></span>\n        `}),s}$((function(){$.fn.extend({countdown:function(n){n=jQuery.extend({until:new Date},n);const s={days:0,hours:0,minutes:0,seconds:0};let t=n=>{const{days:s,hours:t,minutes:o,seconds:e}=n;this.empty(),this.append(`\n        <div class="countdownProp _days" date-count="${1==s?"day":"days"}">\n            <div class="countdownProp__item">\n                <span class="countdownProp__num">${formatTimerItems(s)}</span>\n                <span class="countdownProp__title">день</span>\n            </div> \n            <span class="_dots">:</span> \n        </div>\n        <div class="countdownProp" date-count="${1==t?"hour":"hours"}">\n            <div class="countdownProp__item">\n                <span class="countdownProp__num">${formatTimerItems(t<10?"0"+t:t)}</span> \n                <span class="countdownProp__title">час</span> \n            </div>\n            <span class="_dots">:</span> \n        </div>\n        <div class="countdownProp" date-count="${1==o?"minute":"minutes"}">\n            <div class="countdownProp__item">\n                <span class="countdownProp__num">${formatTimerItems(o<10?"0"+o:o)}</span> \n                <span class="countdownProp__title">мин</span> \n            </div>\n            <span style="display: none;" class="_dots">:</span> \n        </div>\n        <div style="display: none;" class="countdownProp" date-count="${1==e?"second":"seconds"}">\n            <div class="countdownProp__item">\n                <span class="countdownProp__num">${formatTimerItems(e<10?"0"+e:e)}</span> \n                <span class="countdownProp__title">сек</span>\n            </div>\n        </div>\n        `)};t(s);let o=setInterval((function(){let e=n.until-(new Date).getTime();if(e<=0)return clearInterval(o),!1;s.days=Math.floor(e/864e5),s.hours=Math.floor(e%864e5/36e5),s.minutes=Math.floor(e%36e5/6e4),s.seconds=Math.floor(e%6e4/1e3),t(s)}),1e3);return this},snow:function(n){n=jQuery.extend({amount:60},n);let s=(n,s)=>Math.random()*(s-n)+n,t='<svg class="snow" xmlns="http://www.w3.org/2000/svg">';for(let o=0;o<n.amount;o++)t+=`<circle class="particle" r="${s(1,3)}" cx="${s(1,100)}%" cy="-${s(1,100)}" />`;t+="</svg>",this.replaceWith(t)}});const n=new Date,s=n.getDate(),t=n.getMonth(),o=s>=31&&t+1===6?n.getFullYear()+1:n.getFullYear();$(".countdown").countdown({until:new Date("Jun, 31, "+o)}),$(".snow").snow({amount:100})}));
$(".address-field__variant").click((function(){})),$(".address-field").each((function(e,t){let a=$(t).find("input");$(a).on("input",(function(){$(this).val().length>0?$(t).addClass("_show-result"):$(t).removeClass("_show-result")})),$(t).find(".address-field__variant").click((function(){let e=$(this).attr("data-value");a.val(e),$(t).removeClass("_show-result"),$(a).val("").trigger("change")})),$(document).mouseup((function(e){let a=$(t);a.is(e.target)||0!==a.has(e.target).length||$(t).hasClass("_show-result")&&$(t).removeClass("_show-result")}))})),$(".delivery-item input").change((function(){let e=$(this).attr("data-value");$("._delivery-type-fields").removeClass("_active"),$("._delivery-type-fields."+e).addClass("_active")})),$("[data-cart]").click((function(){let e=$(this).attr("data-cart"),t=$("#"+e);$(t).addClass("_active"),$("body").addClass("fixed-body")})),$("._close-cart").click((function(){$(".cart-modal").removeClass("_active"),$("body").removeClass("fixed-body")}));
let body=document.querySelector("body"),modalTogglers=document.querySelectorAll("[data-modal]"),modals=document.querySelectorAll(".modal");function closeModals(){modals.forEach(e=>{e.classList.remove("_active"),body.classList.remove("fixed-body2")})}function openModal(e){closeModals();let o=document.querySelector("#"+e),t=o.querySelectorAll("._close-modal");o.classList.add("_active"),body.classList.add("fixed-body2"),t.forEach(e=>{e.onclick=()=>{o.classList.remove("_active"),body.classList.remove("fixed-body2")}})}modalTogglers.forEach(e=>{e.onclick=function(){openModal(e.getAttribute("data-modal"))}});var getScrollBarSize=function(){var e=window.document.createElement("textarea"),o={visibility:"hidden",position:"absolute",zIndex:"-2147483647",top:"-1000px",left:"-1000px",width:"1000px",height:"1000px",overflow:"scroll",margin:"0",border:"0",padding:"0"},t=void 0!==e.clientWidth&&void 0!==e.offsetWidth;for(var d in o)o.hasOwnProperty(d)&&(e.style[d]=o[d]);return function(){var o=null;return t&&window.document.body&&(window.document.body.appendChild(e),o=[e.offsetWidth-e.clientWidth,e.offsetHeight-e.clientHeight],window.document.body.removeChild(e)),document.documentElement.style.setProperty("--scrollWidth",o[0]+"px"),o}}();
function fix100vh(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}window.addEventListener("DOMContentLoaded",()=>{fix100vh(),window.addEventListener("resize",()=>{fix100vh(),getScrollBarSize()}),getScrollBarSize()});
//# sourceMappingURL=../sourcemaps/main.min.js.map
